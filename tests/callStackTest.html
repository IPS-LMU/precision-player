<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>Callstack Test. See web console for results</h1>
<script type="application/javascript">
    const numberOfCallbacks = 10000;
    let interval = -1;
    const callbacks = {};
    const generateFunc = function (index) {
        return function () {
            console.log(index);
            console.log(new Error().stack);
            if (callbacks.hasOwnProperty(`callback_${index + 1}`)) {
                callbacks[`callback_${index + 1}`]();
            } else {
                console.log(`clear interval`);
                window.clearInterval(interval);
            }
        }
    }

    for (let i = 0; i < numberOfCallbacks; i++) {
        callbacks[`callback_${i}`] = generateFunc(i);
    }
    interval = setTimeout(() => {
        console.log(`pointer`);
    }, 1);
    callbacks["callback_0"]();
</script>
</body>
</html>
